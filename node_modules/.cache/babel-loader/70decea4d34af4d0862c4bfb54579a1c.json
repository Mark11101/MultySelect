{"ast":null,"code":"var _jsxFileName = \"/home/roman/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/MultySelect-master/src/MultySelect.js\";\nimport React from 'react';\nimport './MultySelect.css';\nexport default class MultySelect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextChanged = e => {\n      const items = this.props.items;\n      const value = e.target.value;\n      const arr = this.state.elements;\n      let suggestions = [];\n      suggestions = items;\n\n      if (value.length > 0) {\n        const regex = new RegExp(\"^\".concat(value), 'i');\n        let i = 0;\n\n        do {\n          suggestions = suggestions.sort().filter(v => regex.test(v) && v !== arr[i]);\n          i++;\n        } while (i < arr.length);\n      } else {\n        suggestions = [];\n      }\n\n      this.setState(() => ({\n        suggestions,\n        text: value\n      }));\n    };\n\n    this.handleKeyDown = e => {\n      // 1 пункт доп. задания\n      const arr = this.state.elements;\n      const text = this.state.text;\n      const suggs = this.state.suggestions; //Апельсин, мандарин, киви\n      //Университет, “Школа, Детский сад”, Колледж\n\n      if (text.includes(\",\")) {\n        let splitText = text.split(',');\n        splitText = splitText.split(' ');\n        arr.push(splitText[0]);\n        this.setState({\n          elements: arr\n        });\n      } else if (suggs.length === 0 && text.length !== 0 && e.key === 'Enter' && !arr.includes(text)) {\n        arr.push(text);\n        this.setState({\n          elements: arr\n        });\n      } else if (text.length === 0 && e.key === 'Backspace') {\n        // 3 пункт доп. задания\n        arr.splice(arr.length - 1, 1);\n        this.setState({\n          elements: arr\n        });\n      }\n    };\n\n    this.suggestionSelected = (text, index) => {\n      const arr = this.state.elements;\n      arr.push(text);\n      this.setState({\n        elements: arr,\n        suggestions: this.state.suggestions.filter((item, i) => i !== index)\n      });\n    };\n\n    this.eachElement = (item, i) => {\n      return React.createElement(Elements, {\n        item: item,\n        deleteElement: () => this.deleteElement(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      });\n    };\n\n    this.deleteElement = i => {\n      let suggestions = this.state.suggestions;\n      const arr = this.state.elements;\n      const arrOfItems = this.state.items;\n\n      if (arrOfItems.includes(arr[i]) === false) {\n        // 2 пункт доп. задания\n        arrOfItems.push(arr[i]);\n      }\n\n      suggestions.push(arr[i]);\n      arr.splice(i, 1);\n      const value = document.getElementById(\"input\").value;\n\n      if (value.length > 0) {\n        const regex = new RegExp(\"^\".concat(value), 'i');\n        suggestions = suggestions.sort().filter(v => regex.test(v));\n      } else {\n        suggestions = [];\n      }\n\n      this.setState({\n        elements: arr,\n        suggestions: suggestions,\n        items: arrOfItems\n      });\n    };\n\n    this.renderSuggestions = () => {\n      const suggestions = this.state.suggestions;\n\n      if (suggestions.length === 0) {\n        return null;\n      }\n\n      if (this.state.suggestions) {\n        return this.state.suggestions.map((item, i) => React.createElement(ListItem, {\n          items: this.state.items,\n          elements: this.state.elements,\n          key: i,\n          text: item,\n          suggestionSelected: () => this.suggestionSelected(item, i),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }));\n      }\n    };\n\n    this.state = {\n      suggestions: [],\n      text: '',\n      elements: [],\n      items: this.props.items\n    };\n  }\n\n  render() {\n    const text = this.state.text;\n    return React.createElement(\"div\", {\n      className: \"MultySelect\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, this.state.elements.map(this.eachElement)), React.createElement(\"input\", {\n      id: \"input\",\n      value: text,\n      onChange: this.onTextChanged,\n      onKeyDown: this.handleKeyDown,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), this.renderSuggestions());\n  }\n\n}\n\nclass ListItem extends React.Component {\n  render() {\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      onClick: this.props.suggestionSelected,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.props.text));\n  }\n\n}\n\nclass Elements extends React.Component {\n  render() {\n    return React.createElement(\"button\", {\n      className: \"elementBtn\",\n      onClick: this.props.deleteElement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, this.props.item, React.createElement(\"span\", {\n      className: \"cross\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"\\u2718\"));\n  }\n\n}","map":{"version":3,"sources":["/home/roman/Рабочий стол/MultySelect-master/src/MultySelect.js"],"names":["React","MultySelect","Component","constructor","props","onTextChanged","e","items","value","target","arr","state","elements","suggestions","length","regex","RegExp","i","sort","filter","v","test","setState","text","handleKeyDown","suggs","includes","splitText","split","push","key","splice","suggestionSelected","index","item","eachElement","deleteElement","arrOfItems","document","getElementById","renderSuggestions","map","render","ListItem","Elements"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,mBAAP;AAEA,eAAe,MAAMC,WAAN,SAA0BD,KAAK,CAACE,SAAhC,CAA0C;AAErDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,aAVmB,GAUFC,CAAD,IAAO;AAAA,YACZC,KADY,GACH,KAAKH,KADF,CACZG,KADY;AAEnB,YAAMC,KAAK,GAAGF,CAAC,CAACG,MAAF,CAASD,KAAvB;AACA,YAAME,GAAG,GAAG,KAAKC,KAAL,CAAWC,QAAvB;AACA,UAAIC,WAAW,GAAG,EAAlB;AACAA,MAAAA,WAAW,GAAGN,KAAd;;AAEA,UAAIC,KAAK,CAACM,MAAN,GAAe,CAAnB,EAAsB;AAClB,cAAMC,KAAK,GAAG,IAAIC,MAAJ,YAAeR,KAAf,GAAwB,GAAxB,CAAd;AACA,YAAIS,CAAC,GAAG,CAAR;;AACA,WAAG;AACCJ,UAAAA,WAAW,GAAGA,WAAW,CAACK,IAAZ,GAAmBC,MAAnB,CAA0BC,CAAC,IAAIL,KAAK,CAACM,IAAN,CAAWD,CAAX,KAAiBA,CAAC,KAAKV,GAAG,CAACO,CAAD,CAAzD,CAAd;AACAA,UAAAA,CAAC;AACJ,SAHD,QAIOA,CAAC,GAACP,GAAG,CAACI,MAJb;AAKH,OARD,MASK;AACDD,QAAAA,WAAW,GAAG,EAAd;AACH;;AACD,WAAKS,QAAL,CAAc,OAAO;AAACT,QAAAA,WAAD;AAAcU,QAAAA,IAAI,EAAEf;AAApB,OAAP,CAAd;AACH,KA9BkB;;AAAA,SAgCnBgB,aAhCmB,GAgCFlB,CAAD,IAAO;AAAE;AACrB,YAAMI,GAAG,GAAG,KAAKC,KAAL,CAAWC,QAAvB;AACA,YAAMW,IAAI,GAAG,KAAKZ,KAAL,CAAWY,IAAxB;AACA,YAAME,KAAK,GAAG,KAAKd,KAAL,CAAWE,WAAzB,CAHmB,CAInB;AACA;;AACA,UAAIU,IAAI,CAACG,QAAL,CAAc,GAAd,CAAJ,EAAwB;AACpB,YAAIC,SAAS,GAAGJ,IAAI,CAACK,KAAL,CAAW,GAAX,CAAhB;AACAD,QAAAA,SAAS,GAAGA,SAAS,CAACC,KAAV,CAAgB,GAAhB,CAAZ;AACAlB,QAAAA,GAAG,CAACmB,IAAJ,CAASF,SAAS,CAAC,CAAD,CAAlB;AACA,aAAKL,QAAL,CAAc;AACVV,UAAAA,QAAQ,EAAEF;AADA,SAAd;AAGH,OAPD,MASK,IAAIe,KAAK,CAACX,MAAN,KAAiB,CAAjB,IAAsBS,IAAI,CAACT,MAAL,KAAgB,CAAtC,IAA2CR,CAAC,CAACwB,GAAF,KAAU,OAArD,IAAgE,CAACpB,GAAG,CAACgB,QAAJ,CAAaH,IAAb,CAArE,EAAyF;AAC1Fb,QAAAA,GAAG,CAACmB,IAAJ,CAASN,IAAT;AACA,aAAKD,QAAL,CAAc;AACVV,UAAAA,QAAQ,EAAEF;AADA,SAAd;AAGH,OALI,MAOA,IAAIa,IAAI,CAACT,MAAL,KAAgB,CAAhB,IAAqBR,CAAC,CAACwB,GAAF,KAAU,WAAnC,EAAgD;AAAG;AACpDpB,QAAAA,GAAG,CAACqB,MAAJ,CAAWrB,GAAG,CAACI,MAAJ,GAAW,CAAtB,EAAyB,CAAzB;AACA,aAAKQ,QAAL,CAAc;AACVV,UAAAA,QAAQ,EAAEF;AADA,SAAd;AAGH;AACJ,KA5DkB;;AAAA,SA8DnBsB,kBA9DmB,GA8DE,CAACT,IAAD,EAAOU,KAAP,KAAiB;AAClC,YAAMvB,GAAG,GAAG,KAAKC,KAAL,CAAWC,QAAvB;AACAF,MAAAA,GAAG,CAACmB,IAAJ,CAASN,IAAT;AACA,WAAKD,QAAL,CAAc;AACVV,QAAAA,QAAQ,EAAEF,GADA;AAEVG,QAAAA,WAAW,EAAE,KAAKF,KAAL,CAAWE,WAAX,CAAuBM,MAAvB,CAA8B,CAACe,IAAD,EAAOjB,CAAP,KAAaA,CAAC,KAAKgB,KAAjD;AAFH,OAAd;AAIH,KArEkB;;AAAA,SAuEnBE,WAvEmB,GAuEL,CAACD,IAAD,EAAOjB,CAAP,KAAa;AACvB,aACI,oBAAC,QAAD;AAAU,QAAA,IAAI,EAAEiB,IAAhB;AAAsB,QAAA,aAAa,EAAE,MAAM,KAAKE,aAAL,CAAmBnB,CAAnB,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH,KA3EkB;;AAAA,SA6EnBmB,aA7EmB,GA6EFnB,CAAD,IAAO;AACnB,UAAIJ,WAAW,GAAG,KAAKF,KAAL,CAAWE,WAA7B;AACA,YAAMH,GAAG,GAAG,KAAKC,KAAL,CAAWC,QAAvB;AACA,YAAMyB,UAAU,GAAG,KAAK1B,KAAL,CAAWJ,KAA9B;;AAEA,UAAI8B,UAAU,CAACX,QAAX,CAAoBhB,GAAG,CAACO,CAAD,CAAvB,MAAgC,KAApC,EAA2C;AAAS;AAChDoB,QAAAA,UAAU,CAACR,IAAX,CAAgBnB,GAAG,CAACO,CAAD,CAAnB;AACH;;AAEDJ,MAAAA,WAAW,CAACgB,IAAZ,CAAiBnB,GAAG,CAACO,CAAD,CAApB;AACAP,MAAAA,GAAG,CAACqB,MAAJ,CAAWd,CAAX,EAAc,CAAd;AAEA,YAAMT,KAAK,GAAG8B,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiC/B,KAA/C;;AAEA,UAAIA,KAAK,CAACM,MAAN,GAAe,CAAnB,EAAsB;AAClB,cAAMC,KAAK,GAAG,IAAIC,MAAJ,YAAeR,KAAf,GAAwB,GAAxB,CAAd;AACAK,QAAAA,WAAW,GAAGA,WAAW,CAACK,IAAZ,GAAmBC,MAAnB,CAA0BC,CAAC,IAAIL,KAAK,CAACM,IAAN,CAAWD,CAAX,CAA/B,CAAd;AACH,OAHD,MAIK;AACDP,QAAAA,WAAW,GAAG,EAAd;AACH;;AACD,WAAKS,QAAL,CAAc;AACVV,QAAAA,QAAQ,EAAEF,GADA;AAEVG,QAAAA,WAAW,EAAEA,WAFH;AAGVN,QAAAA,KAAK,EAAE8B;AAHG,OAAd;AAKH,KAvGkB;;AAAA,SAyGnBG,iBAzGmB,GAyGC,MAAM;AAAA,YACf3B,WADe,GACA,KAAKF,KADL,CACfE,WADe;;AAEtB,UAAIA,WAAW,CAACC,MAAZ,KAAuB,CAA3B,EAA8B;AAC1B,eAAO,IAAP;AACH;;AAED,UAAI,KAAKH,KAAL,CAAWE,WAAf,EAA4B;AACxB,eACI,KAAKF,KAAL,CAAWE,WAAX,CAAuB4B,GAAvB,CAA2B,CAACP,IAAD,EAAOjB,CAAP,KACvB,oBAAC,QAAD;AACI,UAAA,KAAK,EAAE,KAAKN,KAAL,CAAWJ,KADtB;AAEI,UAAA,QAAQ,EAAE,KAAKI,KAAL,CAAWC,QAFzB;AAGI,UAAA,GAAG,EAAEK,CAHT;AAII,UAAA,IAAI,EAAEiB,IAJV;AAKI,UAAA,kBAAkB,EAAE,MAAM,KAAKF,kBAAL,CAAwBE,IAAxB,EAA8BjB,CAA9B,CAL9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAUH;AACJ,KA3HkB;;AAEf,SAAKN,KAAL,GAAa;AACTE,MAAAA,WAAW,EAAE,EADJ;AAETU,MAAAA,IAAI,EAAE,EAFG;AAGTX,MAAAA,QAAQ,EAAE,EAHD;AAITL,MAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG;AAJT,KAAb;AAMH;;AAqHDmC,EAAAA,MAAM,GAAG;AAAA,UACEnB,IADF,GACU,KAAKZ,KADf,CACEY,IADF;AAEL,WACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKZ,KAAL,CAAWC,QAAX,CAAoB6B,GAApB,CAAwB,KAAKN,WAA7B,CADL,CADJ,EAII;AAAO,MAAA,EAAE,EAAC,OAAV;AAAkB,MAAA,KAAK,EAAEZ,IAAzB;AAA+B,MAAA,QAAQ,EAAE,KAAKlB,aAA9C;AAA6D,MAAA,SAAS,EAAE,KAAKmB,aAA7E;AAA4F,MAAA,IAAI,EAAC,MAAjG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKK,KAAKgB,iBAAL,EALL,CADJ;AASH;;AA1IoD;;AA6IzD,MAAMG,QAAN,SAAuB3C,KAAK,CAACE,SAA7B,CAAuC;AACnCwC,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,OAAO,EAAE,KAAKtC,KAAL,CAAW4B,kBAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6C,KAAK5B,KAAL,CAAWmB,IAAxD,CADJ,CADJ;AAKH;;AAPkC;;AAUvC,MAAMqB,QAAN,SAAuB5C,KAAK,CAACE,SAA7B,CAAuC;AACnCwC,EAAAA,MAAM,GAAG;AACL,WACI;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,OAAO,EAAE,KAAKtC,KAAL,CAAWgC,aAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKhC,KAAL,CAAW8B,IADhB,EAEI;AAAM,MAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CADJ;AAMH;;AARkC","sourcesContent":["import React from 'react';\nimport './MultySelect.css';\n\nexport default class MultySelect extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            suggestions: [],\n            text: '',\n            elements: [],\n            items: this.props.items,\n        };\n    }\n\n    onTextChanged = (e) => {\n        const {items} = this.props;\n        const value = e.target.value;\n        const arr = this.state.elements;\n        let suggestions = [];\n        suggestions = items;\n\n        if (value.length > 0) {\n            const regex = new RegExp(`^${value}`, 'i');\n            let i = 0;\n            do {\n                suggestions = suggestions.sort().filter(v => regex.test(v) && v !== arr[i]);\n                i++;\n            }\n            while (i<arr.length)\n        }\n        else {\n            suggestions = [];\n        }\n        this.setState(() => ({suggestions, text: value}));\n    };\n\n    handleKeyDown = (e) => { // 1 пункт доп. задания\n        const arr = this.state.elements;\n        const text = this.state.text;\n        const suggs = this.state.suggestions;\n        //Апельсин, мандарин, киви\n        //Университет, “Школа, Детский сад”, Колледж\n        if (text.includes(\",\")) {\n            let splitText = text.split(',');\n            splitText = splitText.split(' ');\n            arr.push(splitText[0]);\n            this.setState({\n                elements: arr\n            });\n        }\n\n        else if (suggs.length === 0 && text.length !== 0 && e.key === 'Enter' && !arr.includes(text)) {\n            arr.push(text);\n            this.setState({\n                elements: arr\n            });\n        }\n\n        else if (text.length === 0 && e.key === 'Backspace') {  // 3 пункт доп. задания\n            arr.splice(arr.length-1, 1);\n            this.setState({\n                elements: arr,\n            });\n        }\n    };\n\n    suggestionSelected = (text, index) => {\n        const arr = this.state.elements;\n        arr.push(text);\n        this.setState({\n            elements: arr,\n            suggestions: this.state.suggestions.filter((item, i) => i !== index),\n        });\n    };\n\n    eachElement = (item, i) => {\n        return (\n            <Elements item={item} deleteElement={() => this.deleteElement(i)}/>\n        )\n    };\n\n    deleteElement = (i) => {\n        let suggestions = this.state.suggestions;\n        const arr = this.state.elements;\n        const arrOfItems = this.state.items;\n\n        if (arrOfItems.includes(arr[i]) === false) {        // 2 пункт доп. задания\n            arrOfItems.push(arr[i]);\n        }\n\n        suggestions.push(arr[i]);\n        arr.splice(i, 1);\n\n        const value = document.getElementById(\"input\").value;\n\n        if (value.length > 0) {\n            const regex = new RegExp(`^${value}`, 'i');\n            suggestions = suggestions.sort().filter(v => regex.test(v));\n        }\n        else {\n            suggestions = [];\n        }\n        this.setState({\n            elements: arr,\n            suggestions: suggestions,\n            items: arrOfItems,\n        });\n    };\n\n    renderSuggestions = () => {\n        const {suggestions} = this.state;\n        if (suggestions.length === 0) {\n            return null;\n        }\n\n        if (this.state.suggestions) {\n            return (\n                this.state.suggestions.map((item, i) => (\n                    <ListItem\n                        items={this.state.items}\n                        elements={this.state.elements}\n                        key={i}\n                        text={item}\n                        suggestionSelected={() => this.suggestionSelected(item, i)}\n                    />\n                )));\n        }\n    };\n\n    render() {\n        const {text} = this.state;\n        return (\n            <div className=\"MultySelect\">\n                <div className=\"buttons\">\n                    {this.state.elements.map(this.eachElement)}\n                </div>\n                <input id=\"input\" value={text} onChange={this.onTextChanged} onKeyDown={this.handleKeyDown} type=\"text\"/>\n                {this.renderSuggestions()}\n            </div>\n        )\n    }\n}\n\nclass ListItem extends React.Component {\n    render() {\n        return (\n            <ul>\n                <li onClick={this.props.suggestionSelected}>{this.props.text}</li>\n            </ul>\n        )\n    }\n}\n\nclass Elements extends React.Component {\n    render() {\n        return (\n            <button className=\"elementBtn\" onClick={this.props.deleteElement}>\n                {this.props.item}\n                <span className=\"cross\">&#10008;</span>\n            </button>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}